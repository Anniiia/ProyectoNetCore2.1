@{
    string usuario = Context.Session.GetString("USUARIO");

    List<Accion> acciones = memoryCache.Get<List<Accion>>("PENDIENTES");

}

@* @section Scripts {
    <script>
        $(document).ready(function () {
            var elemento = document.getElementById('#usuarios');

            // Agregar el evento click
            elemento.addEventListener('click', function () {
                // Alternar entre las clases
                if (elemento.classList.contains('nav-link dropdown-toggle')) {
                    elemento.classList.remove('nav-link dropdown-toggle');
                    elemento.classList.add('nav-link dropdown-toggle show');
                } else {
                    elemento.classList.remove('dropdown-menu');
                    elemento.classList.add('dropdown-menu show');
                }
                var ariaExpanded = $("#usuarios a").getAttribute('aria-expanded');

                // Cambiar el valor de aria-expanded a false si es true, y viceversa
                var nuevoValor = ariaExpanded === 'true' ? 'false' : 'true';

                // Asignar el nuevo valor al atributo aria-expanded
                $("#usuario a").setAttribute('aria-expanded', nuevoValor);
            });
        })
    </script>
} *@


@if (usuario == null)
{
    <li class="nav-item">
        <a asp-controller="Usuarios" asp-action="Login"
           class="nav-link">
            Log In
        </a>
    </li>
}
else
{
    <li class="nav-item dropdown" id="usuarios">
        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
            @usuario
        </a>
        <ul class="dropdown-menu">
            <li class="nav-item">
                <a asp-controller="Tienda" asp-action="Pendientes"
                   class="nav-link">
                    Pendientes: 
                    @if (acciones != null)
                    {
                        <span style="color:lightslategrey">
                            @acciones.Count
                        </span>

                    }
                </a>
                
            </li>
            <li class="nav-item">
                <a asp-controller="Tienda" asp-action="Resumen"
                   class="nav-link">
                    Resumen
                </a>
            </li>
            <li class="nav-item">
                <a asp-controller="Usuarios" asp-action="Logout"
                   class="nav-link text-danger">
                    Cerrar sesión @usuario
                </a>
            </li>
        </ul>
    <li class="nav-item">
        <a asp-controller="Tienda" asp-action="Pendientes"
           class="nav-link">
            Pendientes:
                @if (acciones != null)
                {
                <span style="color:lightslategrey">
                        @acciones.Count
                    </span>

                }
                else
                {
                <span style="color:lightslategrey">
                       0
                </span>
                }
            </a>

    </li>
    </li>



@*     <li class="nav-item dropdown">
         <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
            @usuario
        </a
        <ul class="dropdown-menu">
            <li class="nav-item">
                <a asp-controller="Tienda" asp-action="Pendientes"
                   class="nav-link">
                    Revision
                </a>
            </li>
            <li class="nav-item">
                <a asp-controller="Tienda" asp-action="Resumen"
                   class="nav-link">
                    Resumen
                </a>
            </li>
            <li class="nav-item">
                <a asp-controller="Usuarios" asp-action="Logout"
                   class="nav-link">
                    Cerrar sesión @usuario
                </a>
            </li> *@
@*         </ul>
    </li>
 *@
@*     <li class="nav-item">
        <a asp-controller="Usuarios" asp-action="Logout"
           class="nav-link">
            Cerrar sesión @usuario
        </a>
    </li>
    <li class="nav-item">
        <a asp-controller="Tienda" asp-action="Pendientes"
           class="nav-link">
            Revision
        </a>
    </li>
    <li class="nav-item">
        <a asp-controller="Tienda" asp-action="Resumen"
           class="nav-link">
            Resumen
        </a>
    </li> *@

}
